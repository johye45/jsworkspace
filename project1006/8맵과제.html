<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>맛집 정보</title>
<style>
#myMap{
    width: 100%;
    height: 800px;
    background-color: blueviolet;
}
</style>
<script>
    var storeArray =[//맛집들을 보유할 1차원 배열, 현재 길이는 0 비어 있기 때문에
        {
            content:"한식 전문점",
            pos:{
                lati:37.495457,
                longi:127.030414
            },//위도 경도 
            url:"../images/food/pic2.webp"
        },
        {
            content:"이탈리아음식 전문점",
            pos:{
                lati:37.497356,
                longi:127.030356
            },//위도 경도 
            url:"../images/food/pic1.webp"
        },
        {
            content:"중식 전문점",
            pos:{
                lati:37.503536,
                longi:127.023522
            },//위도 경도 
            url:"../images/food/pic3.webp"
        },
        {
            content:"일식 전문점",
            pos:{
                lati:37.508936,
                longi:127.034743
            },//위도 경도 
            url:"../images/food/pic4.webp"
        },
        {
            content:"햄버거 전문점",
            pos:{
                lati:37.506842,
                longi:127.053154
            },//위도 경도 
            url:"../images/food/pic5.webp"
        }
    ];
    
    
    var myMap;
    //초기화
    function init(){
        myMap = document.getElementById("myMap");
        createMap();
    }

    //맵처리 함수
    function createMap(){
        var map = new google.maps.Map(myMap,{
            center: new google.maps.LatLng(37.500377, 127.036569),
            zoom: 15
        });//구글맵 생성하기
    
    for(var i = 0; i<storeArray.length;i++){
        var store = storeArray[i];//한개의 json이 담겨진다
        //지도에 마커 표시하기
        var marker = new google.maps.Marker({
            position :new google.maps.LatLng(store.pos.lati, store.pos.longi),
            icon:{
                url:store.url,
                scaledSize:new google.maps.Size(30,30)
            }
        });
        marker.setMap(map);//마커를 적용할 맵 지정

        //정보창 띄우기
        var popup = new google.maps.InfoWindow({
            content: store.content
        });
        popup.open(map,marker);//팝업 적용할 맵 지정 

        }
    }

  
</script>

</head>
<body>
<div id="myMap"></div>
</body>
</html>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBgPqrBx1zn8RZJGxxyb9LeHzZAi5u9JWw&callback=init"></script>